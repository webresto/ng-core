{"version":3,"file":"webresto-ng-core.js","sources":["../../src/lib/services/event-message.ts","../../src/lib/services/eventer.service.ts","../../src/lib/services/state.service.ts","../../src/lib/config.ts","../../src/lib/services/net.service.ts","../../src/lib/services/resto-storage.service.ts","../../src/lib/ng-core.module.ts","../../src/lib/http-interceptors/server-error.interceptor.ts","../../src/public_api.ts","../../src/webresto-ng-core.ts"],"sourcesContent":["export class EventMessage {\r\n  type:string;\r\n  title:string;\r\n  body:string;\r\n\r\n  constructor(type, title, body) {\r\n    this.type = type;\r\n    this.title = title;\r\n    this.body = body;\r\n  }\r\n}\r\n","import { Injectable,EventEmitter } from '@angular/core';\r\nimport { EventMessage } from './event-message';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EventerService {\r\n  eventMessage: EventEmitter<EventMessage> = new EventEmitter();\r\n  eventAction: EventEmitter<EventMessage> = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  emitMessageEvent(message:EventMessage) {\r\n    this.eventMessage.emit(message);\r\n  }\r\n  emitActionEvent(action:EventMessage) {\r\n    this.eventAction.emit(action);\r\n  }\r\n\r\n\r\n  getMessageEmitter() {\r\n    return this.eventMessage;\r\n  }\r\n  getActionEmitter() {\r\n    return this.eventAction;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class StateService {\r\n  maintenance$: BehaviorSubject<any>;\r\n\r\n  constructor() {\r\n    this.maintenance$ = new BehaviorSubject<any>(null);\r\n  }\r\n}\r\n","import { Inject,Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class Config {\r\n  url:any;\r\n  port:number = 80;\r\n  prefix:string = \"api/\";\r\n  versionModule = \"0.5\";\r\n\r\n  constructor(@Inject('ApiDomain') endpointUrl:BehaviorSubject<any>) {\r\n    endpointUrl.subscribe(url=>{\r\n      this.url = url;\r\n    })  \r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Config } from '../config';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { retry } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NetService {\r\n  constructor(private http: HttpClient, public config: Config) {  }\r\n\r\n  public get<T=any>(url: string, isApi: boolean = true): Observable<T> {\r\n    url = isApi\r\n      ? this.config.url + this.config.prefix + this.config.versionModule + url\r\n      : this.config.url + url;\r\n    return this.http.get<T>(url)\r\n      .pipe(\r\n        retry(3) // retry a failed request up to 3 times\r\n      );\r\n  }\r\n\r\n  public put<T=any>(url: string, data: T, isApi: boolean = true): Observable<any> {\r\n\r\n    url = isApi\r\n      ? this.config.url + this.config.prefix + this.config.versionModule + url\r\n      : this.config.url + url;\r\n\r\n    return this.http.put(url, data);\r\n\r\n  }\r\n\r\n  public post<T=any,R=any>(url: string, data: T, isApi: boolean = true): Observable<any> {\r\n\r\n    url = isApi\r\n      ? this.config.url + this.config.prefix + this.config.versionModule + url\r\n      : this.config.url + url;\r\n\r\n    return this.http.post(url, data);\r\n  }\r\n\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RestoStorageService {\r\n  event:BehaviorSubject<any>;\r\n\r\n\r\n  constructor() {\r\n    this.initTypeStorage();\r\n    this.event = new BehaviorSubject({});\r\n  }\r\n\r\n  initTypeStorage() {\r\n    //  this.cookiesStorageService.set('ola', \"work\");\r\n    //  this.localStorageService.set(\"ola\",\"work\");\r\n    //   //  this.sharedStorageService.set(\"ola\",\"work\");\r\n    //   //  console.log(this.cookiesStorageService.get('ola'))\r\n    //   console.log(this.localStorageService.get('olaet'))\r\n    //  console.log(this.sharedStorageService.get('ola'))\r\n\r\n  }\r\n\r\n  get(typeStorage:string, key:string):string {\r\n    return this[typeStorage].get(key);\r\n\r\n  }\r\n\r\n  set(typeStorage:string, key:string, value:string):Observable<any> {\r\n    return this[typeStorage].set(key, value);\r\n  }\r\n\r\n\r\n  sub(typeStorage:string, key:string):Observable<any> {\r\n\r\n    this[typeStorage].observe()\r\n      .subscribe((event) => {\r\n        if (event.key == key) {\r\n          this.event.next({\"changeKey\": key})\r\n        }\r\n\r\n      });\r\n    return this.event;\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\n\r\n@NgModule({\r\n  imports: [],\r\n  declarations: [],\r\n  providers:[],\r\n  exports: []\r\n})\r\nexport class NgCoreModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  HttpEvent,\r\n  HttpInterceptor,\r\n  HttpHandler,\r\n  HttpRequest,\r\n  HttpResponse,\r\n  HttpErrorResponse\r\n} from '@angular/common/http';\r\n\r\nimport { EventerService } from '../services/eventer.service';\r\nimport { EventMessage } from '../services/event-message';\r\n\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { tap, catchError } from 'rxjs/operators';\r\nimport { StateService } from \"../services/state.service\";\r\n\r\nconst LS_TOKEN_NAME = 'gf:tkn:v2';\r\n\r\n@Injectable()\r\nexport class ServerErrorInterceptor implements HttpInterceptor {\r\n\r\n  constructor(\r\n    private eventer: EventerService,\r\n    private state: StateService\r\n  ) { }\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    console.info('Interceptor', req);\r\n    const authToken = localStorage.getItem(LS_TOKEN_NAME);\r\n    return next.handle(!authToken ? req : req.clone({\r\n      headers: req.headers.set('Authorization', `JWT ${authToken}`)\r\n    })).pipe(\r\n      tap(\r\n        event => {\r\n          if (event instanceof HttpResponse && event?.body?.status && event?.body?.message[0]) {\r\n              throw new Error(event?.body?.message[0]);\r\n          }\r\n        }\r\n      ),\r\n      catchError(this.handleError.bind(this))\r\n    );\r\n  }\r\n\r\n  private handleError(error: HttpErrorResponse) {\r\n    if (error?.error?.enable\r\n      && typeof error?.error?.title !== 'undefined'\r\n      && typeof error?.error?.description !== 'undefined'\r\n      && typeof error?.error?.startDate !== 'undefined'\r\n      && typeof error?.error?.stopDate !== 'undefined') {\r\n\r\n      const currentTime = new Date().getTime(),\r\n        startTime = new Date(error?.error?.startDate).getTime(),\r\n        stopTime = new Date(error?.error?.stopDate).getTime();\r\n\r\n      if (currentTime > startTime && currentTime < stopTime) {\r\n        this.state.maintenance$.next({\r\n          title: error.error.title,\r\n          description: error.error.description,\r\n          social: error.error.social\r\n        });\r\n      };\r\n\r\n      return throwError(error.error);\r\n    };\r\n    switch (true) {\r\n      case error?.error instanceof ErrorEvent: console.error('An error occurred:', error?.error?.message); return throwError(error?.error);;\r\n      case (error instanceof Error && error?.message == 'timeout-or-duplicate'):\r\n        console.error('An error occurred:', error?.message);\r\n        return throwError('Ошибка сервера (таймаут). Повторите попытку позже');\r\n      case (error instanceof Error && error?.message != 'timeout-or-duplicate'):\r\n        console.error(\r\n          `Backend returned code ${error?.status}, ` + `body was: ${error?.error}`);\r\n        if (error?.status == 401) {\r\n          this.eventer.emitMessageEvent(\r\n            new EventMessage('Unauthorized', '', '')\r\n          );\r\n          localStorage.removeItem(LS_TOKEN_NAME);\r\n          return throwError(\r\n            error?.error?.title ? error?.error?.title : 'Необходимо пройти авторизацию'\r\n          );\r\n        } else if (error?.status == 404 && error?.error == \"User not found\") {\r\n          localStorage.removeItem(LS_TOKEN_NAME);\r\n        } else if ((error?.status == 400 || error?.status == 500)\r\n          && error?.error?.message?.title\r\n          && error?.error?.message?.body) {\r\n          this.eventer.emitMessageEvent(\r\n            new EventMessage('error', error?.error?.message?.title, error?.error?.message?.body)\r\n          );\r\n        }\r\n        return throwError(error?.error);\r\n    };\r\n    // return an observable with a user-facing error message\r\n  };\r\n}","/*\r\n * Public API Surface of ng-core\r\n */\r\n\r\nexport * from './lib/services';\r\nexport * from './lib/ng-core.module';\r\nexport * from './lib/http-interceptors/server-error.interceptor';","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}